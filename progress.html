<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEET 2025 Syllabus Tracker</title>
    <style>
        :root {
            --primary-color: #4CAF50;
            --secondary-color: #2196F3;
            --tertiary-color: #9C27B0;
            --quaternary-color: #FF9800;
            --background-color: #f5f5f5;
            --card-bg: #ffffff;
            --text-color: #333333;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition-speed: 0.3s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
        }

        .subject-container {
            margin-bottom: 30px;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
        }

        .subject-header {
            padding: 15px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color var(--transition-speed);
        }

        .subject-header:hover {
            filter: brightness(1.1);
        }

        .physics-header {
            background-color: var(--primary-color);
            color: white;
        }

        .chemistry-header {
            background-color: var(--secondary-color);
            color: white;
        }

        .botany-header {
            background-color: var(--tertiary-color);
            color: white;
        }

        .zoology-header {
            background-color: var(--quaternary-color);
            color: white;
        }

        .subject-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height var(--transition-speed) ease-out;
            background-color: var(--card-bg);
        }

        .chapter-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }

        .chapter-item:hover {
            background-color: #f9f9f9;
        }

        .chapter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
        }

        .chapter-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height var(--transition-speed) ease-out;
            padding-left: 20px;
        }

        .book-list {
            padding: 10px 0;
        }

        .book-item {
            padding: 8px 15px;
            margin: 5px 0;
            background-color: #f1f1f1;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }

        .book-item:hover {
            background-color: #e0e0e0;
        }

        .chat-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            height: 500px;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            display: none;
            flex-direction: column;
            z-index: 1000;
            overflow: hidden;
        }

        .chat-header {
            padding: 15px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            font-weight: bold;
        }

        .close-chat {
            position: absolute;
            top: 15px;
            right: 15px;
            cursor: pointer;
            color: white;
            font-size: 20px;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
        }

        .message {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: var(--border-radius);
            max-width: 80%;
        }

        .message-time {
            font-size: 0.7rem;
            color: #666;
            margin-top: 5px;
        }

        .user-message {
            background-color: #dcf8c6;
            align-self: flex-end;
            margin-left: auto;
        }

        .system-message {
            background-color: #f1f0f0;
            align-self: flex-start;
        }

        .chat-input {
            display: flex;
            padding: 10px;
            border-top: 1px solid #eee;
        }

        .chat-input input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius) 0 0 var(--border-radius);
            outline: none;
        }

        .chat-input button {
            padding: 10px 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }

        .chat-input button:hover {
            background-color: #3d8b40;
        }

        .arrow {
            transition: transform var(--transition-speed);
        }

        .rotate {
            transform: rotate(180deg);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .chat-container {
                width: 90%;
                left: 5%;
                right: 5%;
                bottom: 10px;
                height: 60vh;
            }
        }

        /* Add book form styles */
        .add-book-form {
            display: flex;
            margin-top: 10px;
            margin-bottom: 10px;
        }

        .add-book-form input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius) 0 0 var(--border-radius);
            outline: none;
        }

        .add-book-form button {
            padding: 8px 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }

        .add-book-form button:hover {
            background-color: #3d8b40;
        }

        /* Prompt template styles */
        .prompt-container {
            margin-top: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .prompt-chip {
            background-color: #e0e0e0;
            padding: 5px 10px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color var(--transition-speed);
            font-size: 0.8rem;
        }

        .prompt-chip:hover {
            background-color: #d0d0d0;
        }

        .add-prompt-btn {
            background-color: var(--primary-color);
            color: white;
            padding: 5px 10px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color var(--transition-speed);
            font-size: 0.8rem;
        }

        .add-prompt-btn:hover {
            background-color: #3d8b40;
        }

        .prompt-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .prompt-modal-content {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            width: 80%;
            max-width: 500px;
        }

        .prompt-modal-content h3 {
            margin-bottom: 15px;
        }

        .prompt-modal-content input {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            outline: none;
        }

        .prompt-modal-content textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            outline: none;
            min-height: 100px;
            resize: vertical;
        }

        .prompt-modal-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .prompt-modal-buttons button {
            padding: 8px 15px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color var(--transition-speed);
        }

        .save-prompt-btn {
            background-color: var(--primary-color);
            color: white;
        }

        .save-prompt-btn:hover {
            background-color: #3d8b40;
        }

        .cancel-prompt-btn {
            background-color: #f1f1f1;
        }

        .cancel-prompt-btn:hover {
            background-color: #e0e0e0;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>NEET 2025 Syllabus Tracker</h1>
            <p>Track your study progress, manage resources, and take notes</p>
        </header>

        <div id="syllabus-container">
            <!-- Subjects will be dynamically added here -->
        </div>
    </div>

    <div id="chat-container" class="chat-container">
        <div class="chat-header">
            <span id="chat-title">Book Chat</span>
            <span class="close-chat" onclick="closeChat()">×</span>
        </div>
        <div id="chat-messages" class="chat-messages">
            <!-- Messages will be dynamically added here -->
        </div>
        <div class="prompt-container" id="prompt-container">
            <!-- Prompts will be dynamically added here -->
            <div class="add-prompt-btn" onclick="openPromptModal()">+ Add Prompt</div>
        </div>
        <div class="chat-input">
            <input type="text" id="message-input" placeholder="Type your message...">
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>

    <div id="prompt-modal" class="prompt-modal">
        <div class="prompt-modal-content">
            <h3>Add New Prompt</h3>
            <input type="text" id="prompt-name" placeholder="Prompt Name (e.g. 'Ask for summary')">
            <textarea id="prompt-text" placeholder="Prompt Text (e.g. 'Can you summarize chapter 1?')"></textarea>
            <div class="prompt-modal-buttons">
                <button class="cancel-prompt-btn" onclick="closePromptModal()">Cancel</button>
                <button class="save-prompt-btn" onclick="savePrompt()">Save Prompt</button>
            </div>
        </div>
    </div>

    <script>
        // NEET 2025 Syllabus Data
        const syllabusData = {
            "Physics": [
                "Units & Measurements", "Laws of Motion", "Motion in Straight Line", "Work, Energy & Power",
                "Motion in Plane", "Gravitation", "System of Particles", "Thermal Properties",
                "Mechanical Properties of Solids", "Oscillations", "Mechanical Properties of Fluids", "Waves",
                "Thermodynamics", "Kinetic Theory", "Electric Charges", "Current Electricity",
                "Electrostatic Potential", "Moving Charges", "Magnetism & Matter", "EMI (Electromagnetic Induction)",
                "Alternating Current", "Ray Optics", "Wave Optics", "Dual Nature", "Atoms", "Nuclei", "Semiconductor"
            ],
            "Chemistry": [
                "Some Basic Concepts", "Structure of Atom", "Chemical Bonding", "Thermodynamics",
                "Classification of Elements", "Equilibrium", "Redox Reactions", "Organic Chemistry Basics",
                "Hydrocarbons", "Solutions", "Electrochemistry", "Chemical Kinetics",
                "Coordination Compounds", "Haloalkanes", "Alcohols/Phenol/Ether", "Aldehydes/Ketones/Acids",
                "Amines", "Biomolecules"
            ],
            "Botany": [
                "The Living World", "Morphology", "Biological Classification", "Anatomy",
                "Plant Kingdom", "Photosynthesis", "Respiration", "Plant Growth",
                "Sexual Reproduction", "Cell: Unit of Life", "Cell Cycle", "Molecular Basis",
                "Microbes", "Biotech Principles", "Biotech Applications", "Organisms & Populations",
                "Ecosystem", "Biodiversity"
            ],
            "Zoology": [
                "Animal Kingdom", "Breathing & Exchange", "Structural Organisation", "Body Fluids",
                "Locomotion", "Excretory Products", "Neural Control", "Human Reproduction",
                "Chemical Coordination", "Reproductive Health", "Inheritance", "Evolution",
                "Human Health", "Biomolecules"
            ]
        };

        // Color mapping for subjects
        const subjectColors = {
            "Physics": "physics-header",
            "Chemistry": "chemistry-header",
            "Botany": "botany-header",
            "Zoology": "zoology-header"
        };

        // Current chat context
        let currentChatContext = {
            subject: "",
            chapter: "",
            book: ""
        };

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            loadSyllabus();
            loadFromLocalStorage();
        });

        // Load the syllabus structure
        function loadSyllabus() {
            const syllabusContainer = document.getElementById('syllabus-container');
            syllabusContainer.innerHTML = '';

            for (const subject in syllabusData) {
                const subjectContainer = document.createElement('div');
                subjectContainer.className = 'subject-container';
                subjectContainer.setAttribute('data-subject', subject);

                const subjectHeader = document.createElement('div');
                subjectHeader.className = `subject-header ${subjectColors[subject]}`;
                subjectHeader.innerHTML = `
                    <span>${subject}</span>
                    <span class="arrow">▼</span>
                `;
                subjectHeader.addEventListener('click', toggleSubject);

                const subjectContent = document.createElement('div');
                subjectContent.className = 'subject-content';
                subjectContent.setAttribute('data-subject', subject);

                // Add chapters
                syllabusData[subject].forEach(chapter => {
                    const chapterItem = document.createElement('div');
                    chapterItem.className = 'chapter-item';
                    chapterItem.setAttribute('data-chapter', chapter);

                    const chapterHeader = document.createElement('div');
                    chapterHeader.className = 'chapter-header';
                    chapterHeader.innerHTML = `
                        <span>${chapter}</span>
                        <span class="arrow">▼</span>
                    `;
                    chapterHeader.addEventListener('click', function(e) {
                        e.stopPropagation();
                        toggleChapter(this);
                    });

                    const chapterContent = document.createElement('div');
                    chapterContent.className = 'chapter-content';
                    chapterContent.setAttribute('data-chapter', chapter);

                    const bookList = document.createElement('div');
                    bookList.className = 'book-list';

                    // Add form to add new books
                    const addBookForm = document.createElement('div');
                    addBookForm.className = 'add-book-form';
                    addBookForm.innerHTML = `
                        <input type="text" placeholder="Add new book">
                        <button onclick="addBook('${subject}', '${chapter}', this)">Add</button>
                    `;

                    chapterContent.appendChild(bookList);
                    chapterContent.appendChild(addBookForm);
                    chapterItem.appendChild(chapterHeader);
                    chapterItem.appendChild(chapterContent);
                    subjectContent.appendChild(chapterItem);
                });

                subjectContainer.appendChild(subjectHeader);
                subjectContainer.appendChild(subjectContent);
                syllabusContainer.appendChild(subjectContainer);
            }
        }

        // Toggle subject visibility
        function toggleSubject() {
            const arrow = this.querySelector('.arrow');
            arrow.classList.toggle('rotate');
            
            const subjectContent = this.nextElementSibling;
            if (subjectContent.style.maxHeight) {
                subjectContent.style.maxHeight = null;
            } else {
                subjectContent.style.maxHeight = subjectContent.scrollHeight + "px";
            }
        }

        // Toggle chapter visibility
        function toggleChapter(chapterHeader) {
            const arrow = chapterHeader.querySelector('.arrow');
            arrow.classList.toggle('rotate');
            
            const chapterContent = chapterHeader.nextElementSibling;
            if (chapterContent.style.maxHeight) {
                chapterContent.style.maxHeight = null;
            } else {
                chapterContent.style.maxHeight = chapterContent.scrollHeight + "px";
                // Update parent's max height
                const subjectContent = chapterContent.closest('.subject-content');
                subjectContent.style.maxHeight = subjectContent.scrollHeight + chapterContent.scrollHeight + "px";
            }
        }

        // Add a new book to a chapter
        function addBook(subject, chapter, button) {
            const input = button.previousElementSibling;
            const bookName = input.value.trim();
            
            if (bookName) {
                const bookItem = document.createElement('div');
                bookItem.className = 'book-item';
                bookItem.textContent = bookName;
                bookItem.setAttribute('data-book', bookName);
                bookItem.addEventListener('click', function() {
                    openChat(subject, chapter, bookName);
                });
                
                const bookList = button.closest('.chapter-content').querySelector('.book-list');
                bookList.appendChild(bookItem);
                input.value = '';
                
                // Save to local storage
                saveBook(subject, chapter, bookName);
            }
        }

        // Open chat for a specific book
        function openChat(subject, chapter, book) {
            const chatContainer = document.getElementById('chat-container');
            const chatTitle = document.getElementById('chat-title');
            
            chatTitle.textContent = `${subject} > ${chapter} > ${book}`;
            chatContainer.style.display = 'flex';
            
            // Set current chat context
            currentChatContext = {
                subject: subject,
                chapter: chapter,
                book: book
            };
            
            // Load chat messages
            loadChatMessages();
            
            // Load prompts
            loadPrompts();
        }

        // Close the chat
        function closeChat() {
            document.getElementById('chat-container').style.display = 'none';
        }

        // Send a message in the chat
        function sendMessage() {
            const messageInput = document.getElementById('message-input');
            const message = messageInput.value.trim();
            
            if (message) {
                const timestamp = new Date();
                const messageObj = {
                    text: message,
                    timestamp: timestamp.toISOString(),
                    sender: 'user'
                };
                
                addMessageToChat(messageObj);
                messageInput.value = '';
                
                // Save message to local storage
                saveMessage(messageObj);
            }
        }

        // Add a message to the chat display
        function addMessageToChat(messageObj) {
            const chatMessages = document.getElementById('chat-messages');
            const messageElement = document.createElement('div');
            messageElement.className = `message ${messageObj.sender}-message`;
            
            const timestamp = new Date(messageObj.timestamp);
            const formattedTime = timestamp.toLocaleString();
            
            messageElement.innerHTML = `
                <div>${messageObj.text}</div>
                <div class="message-time">${formattedTime}</div>
            `;
            
            chatMessages.appendChild(messageElement);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Load chat messages from local storage
        function loadChatMessages() {
            const chatMessages = document.getElementById('chat-messages');
            chatMessages.innerHTML = '';
            
            const storageKey = `chat_${currentChatContext.subject}_${currentChatContext.chapter}_${currentChatContext.book}`;
            const storedMessages = localStorage.getItem(storageKey);
            
            if (storedMessages) {
                const messages = JSON.parse(storedMessages);
                messages.forEach(message => {
                    addMessageToChat(message);
                });
            } else {
                // Add a welcome message
                const welcomeMessage = {
                    text: `Welcome to the chat for ${currentChatContext.book}!`,
                    timestamp: new Date().toISOString(),
                    sender: 'system'
                };
                addMessageToChat(welcomeMessage);
                saveMessage(welcomeMessage);
            }
        }

        // Save a message to local storage
        function saveMessage(messageObj) {
            const storageKey = `chat_${currentChatContext.subject}_${currentChatContext.chapter}_${currentChatContext.book}`;
            const storedMessages = localStorage.getItem(storageKey);
            
            let messages = [];
            if (storedMessages) {
                messages = JSON.parse(storedMessages);
            }
            
            messages.push(messageObj);
            localStorage.setItem(storageKey, JSON.stringify(messages));
        }

        // Save a book to local storage
        function saveBook(subject, chapter, book) {
            const storageKey = `books_${subject}_${chapter}`;
            const storedBooks = localStorage.getItem(storageKey);
            
            let books = [];
            if (storedBooks) {
                books = JSON.parse(storedBooks);
            }
            
            if (!books.includes(book)) {
                books.push(book);
                localStorage.setItem(storageKey, JSON.stringify(books));
            }
        }

        // Load books from local storage
        function loadFromLocalStorage() {
            for (const subject in syllabusData) {
                syllabusData[subject].forEach(chapter => {
                    const storageKey = `books_${subject}_${chapter}`;
                    const storedBooks = localStorage.getItem(storageKey);
                    
                    if (storedBooks) {
                        const books = JSON.parse(storedBooks);
                        const chapterContent = document.querySelector(`.chapter-content[data-chapter="${chapter}"]`);
                        
                        if (chapterContent) {
                            const bookList = chapterContent.querySelector('.book-list');
                            
                            books.forEach(book => {
                                const bookItem = document.createElement('div');
                                bookItem.className = 'book-item';
                                bookItem.textContent = book;
                                bookItem.setAttribute('data-book', book);
                                bookItem.addEventListener('click', function() {
                                    openChat(subject, chapter, book);
                                });
                                
                                bookList.appendChild(bookItem);
                            });
                        }
                    }
                });
            }
        }

        // Open the prompt modal
        function openPromptModal() {
            document.getElementById('prompt-modal').style.display = 'flex';
        }

        // Close the prompt modal
        function closePromptModal() {
            document.getElementById('prompt-modal').style.display = 'none';
            document.getElementById('prompt-name').value = '';
            document.getElementById('prompt-text').value = '';
        }

        // Save a prompt
        function savePrompt() {
            const promptName = document.getElementById('prompt-name').value.trim();
            const promptText = document.getElementById('prompt-text').value.trim();
            
            if (promptName && promptText) {
                const prompt = {
                    name: promptName,
                    text: promptText
                };
                
                // Save to local storage
                const storageKey = `prompts_${currentChatContext.subject}_${currentChatContext.chapter}_${currentChatContext.book}`;
                const storedPrompts = localStorage.getItem(storageKey);
                
                let prompts = [];
                if (storedPrompts) {
                    prompts = JSON.parse(storedPrompts);
                }
                
                prompts.push(prompt);
                localStorage.setItem(storageKey, JSON.stringify(prompts));
                
                // Add to UI
                addPromptToUI(prompt);
                
                closePromptModal();
            }
        }

        // Add a prompt to the UI
        function addPromptToUI(prompt) {
            const promptContainer = document.getElementById('prompt-container');
            const promptChip = document.createElement('div');
            promptChip.className = 'prompt-chip';
            promptChip.textContent = prompt.name;
            promptChip.addEventListener('click', function() {
                document.getElementById('message-input').value = prompt.text;
            });
            
            promptContainer.insertBefore(promptChip, promptContainer.lastElementChild);
        }

        // Load prompts from local storage
        function loadPrompts() {
            const promptContainer = document.getElementById('prompt-container');
            // Clear existing prompts but keep the "Add Prompt" button
            while (promptContainer.firstChild !== promptContainer.lastChild) {
                promptContainer.removeChild(promptContainer.firstChild);
            }
            
            const storageKey = `prompts_${currentChatContext.subject}_${currentChatContext.chapter}_${currentChatContext.book}`;
            const storedPrompts = localStorage.getItem(storageKey);
            
            if (storedPrompts) {
                const prompts = JSON.parse(storedPrompts);
                prompts.forEach(prompt => {
                    addPromptToUI(prompt);
                });
            }
        }
    </script>
</body>
</html>